(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1312279e"],{"08ec":function(t,e,a){},"54d3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t._m(0),a("div",{staticClass:"content"},[a("el-card",{staticClass:"background-fff card-table"},[t.ruleData?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("p",[a("label",[t._v("规则编号：")]),a("span",[t._v(t._s(t.ruleData.id))])]),a("p",[a("label",[t._v("所属产品名称：")]),"bms"==t.ruleData.product_type?a("span",[t._v("裸金属（BMS）")]):a("span",[t._v("云服务器（CDS）")])]),a("p",[a("label",[t._v("范围：")]),a("span",[t._v(t._s(t.ruleData.trigger_symbol)+t._s(t.ruleData.value))])]),a("p",[a("label",[t._v("沉默时间：")]),a("span",[t._v(t._s(t.ruleData.silent_period_str))])]),a("p",[a("label",[t._v("阈值：")]),a("span",[t._v(t._s(t.ruleData.value))])]),a("p",[a("label",[t._v("通知对象：")]),t._l(t.ruleData.groupList,(function(e,r){return a("span",{key:r},[t._v(t._s(e.name))])}))],2),a("p",[a("label",[t._v("关联资源：")]),1==t.ruleData.scope?a("span",t._l(t.instance_list,(function(e,r){return a("span",{key:r},[t._v("实例名称:"+t._s(e.name))])})),0):a("span",["cloud_vm"==t.ruleData.product_type?a("span",[t._v("全部云主机")]):a("span",[t._v("全部裸金属")])])])]),a("el-col",{attrs:{span:12}},[a("p",[a("label",[t._v("规则名称：")]),a("span",[t._v(t._s(t.ruleData.name))])]),a("p",[a("label",[t._v("报警状态：")]),a("span",[t._v(t._s(t.ruleData.status_str))])]),a("p",[a("label",[t._v("是否启用：")]),0==t.ruleData.is_actvie?a("span",[t._v("已禁用")]):a("span",[t._v("已启用")])]),a("p",[a("label",[t._v("有效时间：")]),a("span",[t._v(t._s(t.ruleData.active_start_time)+" 至 "+t._s(t.ruleData.active_end_time))])]),a("p",[a("label",[t._v("规则描述：")]),a("span",[t._v(t._s(t.ruleData.period_str)+" "+t._s(t.ruleData.lasted_period_str)+" "+t._s(t.ruleData.metrics_id_str)+" "+t._s(t.ruleData.trigger_type_str)+" "+t._s(t.ruleData.trigger_symbol)+t._s(t.ruleData.value)+t._s(t.ruleData.unit)+' 则发"'+t._s(t.ruleData.level_str)+'"报警')])])])],1):t._e()],1)],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-container box-shadow"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-header"},[a("span",{staticClass:"page-title"},[t._v("报警规则详情")])])])])}],s=(a("4160"),a("b64b"),a("159b"),a("0fb7"),a("450d"),a("f529")),u=a.n(s),l=(a("96cf"),a("89ba")),i=a("d738"),c=a("e058"),o={components:{ElCard:c["a"]},data:function(){return{ruleData:null,instance_list:[]}},created:function(){this.FnGetData(),this.FnGetLinkInstance()},methods:{FnGetData:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={rule_id:this.$route.params.id},t.next=3,Object(i["e"])(e);case 3:a=t.sent,"Success"===a.code?(this.ruleData=a.data[0],r=[],n=[],r=Object.keys(this.ruleData.notification_group),r.forEach((function(t){n.push({id:t,name:s.ruleData.notification_group[t]})})),this.ruleData.groupList=n):u()({message:a.msg,type:"error"});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),FnGetLinkInstance:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={rule_id:this.$route.params.id,page_number:1,page_size:1e5},t.next=3,Object(i["h"])(e);case 3:a=t.sent,"Success"===a.code?this.instance_list=a.data:u()({message:a.msg,type:"error"});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},_=o,d=(a("826c"),a("2877")),p=Object(d["a"])(_,r,n,!1,null,null,null);e["default"]=p.exports},"826c":function(t,e,a){"use strict";var r=a("08ec"),n=a.n(r);n.a},d738:function(t,e,a){"use strict";a.d(e,"f",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return l})),a.d(e,"g",(function(){return i})),a.d(e,"h",(function(){return c})),a.d(e,"e",(function(){return o})),a.d(e,"j",(function(){return _})),a.d(e,"d",(function(){return d})),a.d(e,"i",(function(){return p}));var r=a("5724");function n(t){return Object(r["a"])({method:"post",url:"/api/vm/search/",data:t,loadingStatus:!0})}function s(t){return Object(r["a"])({method:"post",url:"/alarm/rule/add",data:t})}function u(t){return Object(r["a"])({method:"post",url:"/alarm/rule/delete",data:t})}function l(t){return Object(r["a"])({method:"post",url:"/alarm/rule/active",data:t})}function i(t){return Object(r["a"])({method:"post",url:"/alarm/rule/inactive",data:t})}function c(t){return Object(r["a"])({method:"post",url:"/alarm/rule/link_instance",data:t})}function o(t){return Object(r["a"])({method:"post",url:"/alarm/rule/list",data:t,loadingStatus:!0})}function _(t){return Object(r["a"])({method:"post",url:"/alarm/rule/update",data:t})}function d(){return Object(r["a"])({method:"post",url:"/alarm/contact/list_group"})}function p(t){return Object(r["a"])({method:"post",url:"/alarm/rule/sync_instance",data:t})}},e058:function(t,e,a){"use strict";a("b0c0");var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-card"},[t.$slots.header||t.header?a("div",{staticClass:"el-card__header"},[t._t("header",[t._v(t._s(t.header))])],2):t._e(),a("div",{staticClass:"el-card__body",style:t.bodyStyle},[t._t("default")],2),t.$slots.footer||t.footer?a("div",{staticClass:"el-card__footer"},[t._t("footer",[t._v(t._s(t.footer))])],2):t._e()])},n=[],s={name:"ElCard",props:["header","bodyStyle","footer"]},u=s,l=a("2877"),i=Object(l["a"])(u,r,n,!1,null,null,null),c=i.exports;c.install=function(t){t.component(c.name,c)};e["a"]=c}}]);
//# sourceMappingURL=chunk-1312279e.6a33fdfe.js.map