(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38846f2c"],{"4e17":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return s}));var n=a("5724");function i(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/delete_group_contact",data:t})}function s(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/delete_group",data:t})}e["a"]={get_contact_group_info_list:function(t){return Object(n["a"])({method:"post",url:"/alarm/contact/list_all_group_info",data:t,loadingStatus:!0})},get_contact_group_list:function(t){return Object(n["a"])({method:"post",url:"/alarm/contact/list_group",data:t})},get_contact_list:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/list_contact",data:t})},add_contact_group:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/add_group",data:t})},update_contact_group:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/update_group",data:t})}}},"4f23":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("el-dialog",{staticClass:"cds-dialog msg-dialog",attrs:{title:t.data.title,visible:t.visible,"before-close":t.closeDialog},on:{"update:visible":function(e){t.visible=e}}},[a("div",{attrs:{"label-width":"120"}},[a("div",{staticClass:"dialog-body"},[a("el-row",{staticClass:"table-layout"},[a("el-col",[a("span",{staticStyle:{"font-size":"50px",color:"#F74020"}},[a("i",{staticClass:"el-icon-warning"})])]),a("el-col",[a("div",[t._v(t._s(t.data.msg))]),a("div",{staticClass:"remark m-top10"},[t._v(t._s(t.data.msg2))])])],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cds-button",attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")]),a("el-button",{staticClass:"cds-button",on:{click:t.closeDialog}},[t._v("取消")])],1)]):t._e()},i=[],s=(a("0fb7"),a("450d"),a("f529")),o=a.n(s),l=(a("96cf"),a("89ba")),r=a("58b0"),c=a("d738"),d=a("e0f8"),u=a("4e17"),p={components:{ElDialog:r["a"]},props:{data:{type:Object,default:{}},param:{type:Object,default:{}}},data:function(){return{}},computed:{visible:{set:function(t){},get:function(){return this.param.visible}}},methods:{closeDialog:function(){this.visible=!1,this.$emit("close")},confirm:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],e.push(this.data.id),a={ids:e},n={contact_ids:[this.data.contact_ids]},i={group_ids:[this.data.group_ids]},s={group_id:this.data.group_id,contact_ids:[this.data.contact_ids]},l=null,t.t0=this.data.type,t.next="inactive"===t.t0?10:"active"===t.t0?14:"delete"===t.t0?18:"delete_person"===t.t0?22:"delete_group"===t.t0?26:"delete_group_person"===t.t0?30:"delete_one_person"===t.t0?34:36;break;case 10:return t.next=12,Object(c["g"])(a);case 12:return l=t.sent,t.abrupt("break",37);case 14:return t.next=16,Object(c["a"])(a);case 16:return l=t.sent,t.abrupt("break",37);case 18:return t.next=20,Object(c["c"])(a);case 20:return l=t.sent,t.abrupt("break",37);case 22:return t.next=24,Object(d["b"])(n);case 24:return l=t.sent,t.abrupt("break",37);case 26:return t.next=28,Object(u["b"])(i);case 28:return l=t.sent,t.abrupt("break",37);case 30:return t.next=32,Object(u["c"])(s);case 32:return l=t.sent,t.abrupt("break",37);case 34:return this.closeDialog(),t.abrupt("break",37);case 36:return t.abrupt("break",37);case 37:l&&("Success"===l.code?(this.$emit("dialogFn"),o()({message:l.msg,type:"success"}),this.closeDialog()):(this.closeDialog(),o()({message:l.msg,type:"error"})));case 38:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},h=p,m=(a("aac8"),a("2877")),f=Object(m["a"])(h,n,i,!1,null,null,null);e["a"]=f.exports},"58b0":function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"dialog-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[a("div",{ref:"dialog",staticClass:"el-dialog cds-dialog",class:[t.sizeClass,t.customClass],style:t.style},[a("div",{staticClass:"el-dialog__header"},[t._t("title",[a("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?a("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[a("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?a("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?a("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])},i=[],s=a("2b0e"),o=function(t){for(let e=1,a=arguments.length;e<a;e++){let a=arguments[e]||{};for(let e in a)if(a.hasOwnProperty(e)){let n=a[e];void 0!==n&&(t[e]=n)}}return t},l=a("526f");let r,c=!1,d=!1;const u=function(){if(s["default"].prototype.$isServer)return;let t=h.modalDom;return t?c=!0:(c=!1,t=document.createElement("div"),h.modalDom=t,t.addEventListener("touchmove",(function(t){t.preventDefault(),t.stopPropagation()})),t.addEventListener("click",(function(){h.doOnModalClick&&h.doOnModalClick()}))),t},p={},h={modalFade:!0,getInstance:function(t){return p[t]},register:function(t,e){t&&e&&(p[t]=e)},deregister:function(t){t&&(p[t]=null,delete p[t])},nextZIndex:function(){return h.zIndex++},modalStack:[],doOnModalClick:function(){const t=h.modalStack[h.modalStack.length-1];if(!t)return;const e=h.getInstance(t.id);e&&e.closeOnClickModal&&e.close()},openModal:function(t,e,a,n,i){if(s["default"].prototype.$isServer)return;if(!t||void 0===e)return;this.modalFade=i;const o=this.modalStack;for(let s=0,l=o.length;s<l;s++){const e=o[s];if(e.id===t)return}const r=u();if(Object(l["a"])(r,"v-modal"),this.modalFade&&!c&&Object(l["a"])(r,"v-modal-enter"),n){let t=n.trim().split(/\s+/);t.forEach(t=>Object(l["a"])(r,t))}setTimeout(()=>{Object(l["d"])(r,"v-modal-enter")},200),a&&a.parentNode&&11!==a.parentNode.nodeType?a.parentNode.appendChild(r):document.body.appendChild(r),e&&(r.style.zIndex=e),r.tabIndex=0,r.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:n})},closeModal:function(t){const e=this.modalStack,a=u();if(e.length>0){const n=e[e.length-1];if(n.id===t){if(n.modalClass){let t=n.modalClass.trim().split(/\s+/);t.forEach(t=>Object(l["d"])(a,t))}e.pop(),e.length>0&&(a.style.zIndex=e[e.length-1].zIndex)}else for(let a=e.length-1;a>=0;a--)if(e[a].id===t){e.splice(a,1);break}}0===e.length&&(this.modalFade&&Object(l["a"])(a,"v-modal-leave"),setTimeout(()=>{0===e.length&&(a.parentNode&&a.parentNode.removeChild(a),a.style.display="none",h.modalDom=void 0),Object(l["d"])(a,"v-modal-leave")},200))}};Object.defineProperty(h,"zIndex",{configurable:!0,get(){return d||(r=r||(s["default"].prototype.$ELEMENT||{}).zIndex||2e3,d=!0),r},set(t){r=t}});const m=function(){if(!s["default"].prototype.$isServer&&h.modalStack.length>0){const t=h.modalStack[h.modalStack.length-1];if(!t)return;const e=h.getInstance(t.id);return e}};s["default"].prototype.$isServer||window.addEventListener("keydown",(function(t){if(27===t.keyCode){const t=m();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}}));var f=h;let _;var b=function(){if(s["default"].prototype.$isServer)return 0;if(void 0!==_)return _;const t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const e=t.offsetWidth;t.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",t.appendChild(a);const n=a.offsetWidth;return t.parentNode.removeChild(t),_=e-n,_};let g,v=1;var y={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount(){this._popupId="popup-"+v++,f.register(this._popupId,this)},beforeDestroy(){f.deregister(this._popupId),f.closeModal(this._popupId),this.restoreBodyStyle()},data(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible(t){if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,s["default"].nextTick(()=>{this.open()}))}else this.close()}},methods:{open(t){this.rendered||(this.rendered=!0);const e=o({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);const a=Number(e.openDelay);a>0?this._openTimer=setTimeout(()=>{this._openTimer=null,this.doOpen(e)},a):this.doOpen(e)},doOpen(t){if(this.$isServer)return;if(this.willOpen&&!this.willOpen())return;if(this.opened)return;this._opening=!0;const e=this.$el,a=t.modal,n=t.zIndex;if(n&&(f.zIndex=n),a&&(this._closing&&(f.closeModal(this._popupId),this._closing=!1),f.openModal(this._popupId,f.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!Object(l["c"])(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt(Object(l["b"])(document.body,"paddingRight"),10)),g=b();let t=document.documentElement.clientHeight<document.body.scrollHeight,e=Object(l["b"])(document.body,"overflowY");g>0&&(t||"scroll"===e)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+g+"px"),Object(l["a"])(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=f.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()},doAfterOpen(){this._opening=!1},close(){if(this.willClose&&!this.willClose())return;null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);const t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout(()=>{this._closeTimer=null,this.doClose()},t):this.doClose()},doClose(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose(){f.closeModal(this._popupId),this._closing=!1},restoreBodyStyle(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,Object(l["d"])(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},k=a("f6f4"),C={name:"ElDialog",mixins:[y,k["a"]],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:String,default:"small"},customClass:{type:String,default:""},top:{type:String,default:"15%"},beforeClose:Function},watch:{visible:function(t){var e=this;this.$emit("update:visible",t),t?(this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){e.$refs.dialog.scrollTop=0}))):(this.$el.removeEventListener("scroll",this.updatePopper),this.$emit("close"))}},computed:{sizeClass:function(){return"el-dialog--"+this.size},style:function(){return"full"===this.size?{}:{top:this.top}}},methods:{handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(t){!1!==t&&(console.log(1),this.$emit("update:visible",!1),this.$emit("visible-change",!1))},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")}},mounted:function(){this.visible&&(this.rendered=!0,this.open())}},O=C,w=a("2877"),S=Object(w["a"])(O,n,i,!1,null,null,null),x=S.exports;x.install=function(t){t.component(x.name,x)};e["a"]=x},"9ae6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"navbar-container"},[a("div",{staticClass:"container-fluid"},[t._m(0),a("div",{staticClass:"navbar-tool pull-right flex"},[a("router-link",{staticClass:"el-button el-button--primary cds-button",attrs:{to:{name:"创建报警规则",params:{type:"add"}}}},[t._v("创建报警规则")])],1)])]),a("div",{staticClass:"navbar-container box-shadow"},[a("div",{staticClass:"container-fluid "},[a("hr",{staticClass:"normal"}),a("div",{staticClass:"navbar-header flex"},[a("el-select",{staticStyle:{width:"130px","min-width":"130px"},attrs:{placeholder:"产品类型","value-key":"type"},model:{value:t.productDefault,callback:function(e){t.productDefault=e},expression:"productDefault"}},[a("el-option",{attrs:{value:""}},[t._v("全部")]),t._l(t.product_list,(function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}},[t._v(t._s(e.name))])}))],2),a("el-select",{staticStyle:{width:"150px","min-width":"150px"},attrs:{placeholder:"监控项","value-key":"value"},model:{value:t.metrics_id,callback:function(e){t.metrics_id=e},expression:"metrics_id"}},[a("el-option",{attrs:{value:""}},[t._v("全部")]),t._l(t.metrice_list,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}},[t._v(t._s(e.name))])}))],2),a("el-select",{staticStyle:{width:"130px","min-width":"130px"},attrs:{placeholder:"启用状态"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("el-option",{attrs:{value:""}},[t._v("全部")]),a("el-option",{attrs:{value:"1",label:"启用"}}),a("el-option",{attrs:{value:"0",label:"禁用"}})],1),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入规则名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.search()}},slot:"append"},[a("i",{staticClass:"el-icon-search"})])],1)],1)])]),a("div",{staticClass:"content"},[a("el-table",{staticClass:"table--transparent",attrs:{data:t.list}},[a("el-table-column",{attrs:{label:"规则名称",prop:"name"}}),a("el-table-column",{attrs:{label:"状态",prop:"status_str"}}),a("el-table-column",{attrs:{label:"启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_active?a("span",[t._v("已启用")]):a("span",[t._v("已禁用")])]}}])}),a("el-table-column",{attrs:{label:"监控项",prop:"metrics_id_str"}}),a("el-table-column",{attrs:{label:"关联对象"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.scope?a("span",["cloud_vm"==e.row.product_type?a("span",[t._v("全部云主机")]):a("span",[t._v("全部裸金属")])]):a("span",{staticClass:"light pointer",on:{click:function(a){return t.FnGetLinkInstance(e.row)}}},[t._v("查看")])]}}])}),a("el-table-column",{attrs:{label:"报警规则"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.period_str)+" "+t._s(e.row.lasted_period_str)+" "+t._s(e.row.metrics_id_str)+" "+t._s(e.row.trigger_type_str)+" "+t._s(e.row.trigger_symbol)+t._s(e.row.value)+t._s(e.row.unit)+' 则发"'+t._s(e.row.level_str)+'"报警 ')]}}])}),a("el-table-column",{attrs:{label:"产品类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["cloud_vm"==e.row.product_type?a("span",[t._v("云服务器（CDS）")]):a("span",[t._v("裸金属（BMS）")])]}}])}),a("el-table-column",{attrs:{label:"通知对象"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.group_list,(function(e,n){return a("router-link",{key:n,staticClass:"m-right10 light",attrs:{to:{name:"通知报警联系组",params:{id:e.id}}}},[t._v(t._s(e.name))])}))}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ul",{staticClass:"flex flex-center",staticStyle:{"flex-wrap":"wrap"}},[a("li",[a("router-link",{staticClass:"light",attrs:{to:{name:"报警规则详情",params:{id:e.row.id}}}},[t._v("查看")])],1),a("li",[a("router-link",{staticClass:"light",attrs:{to:{name:"规则关联历史",params:{name:e.row.name}}}},[t._v("报警历史")])],1),a("li",[1==e.row.is_active?a("router-link",{staticClass:"light",attrs:{to:{name:"修改报警规则",params:{type:"update",id:e.row.id}}}},[t._v("修改")]):a("span",{staticClass:"pointer remark"},[t._v("修改")])],1),1==e.row.is_active?a("li",[a("span",{staticClass:"light pointer",on:{click:function(a){return t.FnOperate("inactive",e.row)}}},[t._v("禁用")])]):t._e(),0==e.row.is_active?a("li",[a("span",{staticClass:"light pointer",on:{click:function(a){return t.FnOperate("active",e.row)}}},[t._v("启用")])]):t._e(),a("li",[a("span",{staticClass:"light pointer",on:{click:function(a){return t.FnOperate("delete",e.row)}}},[t._v("删除")])])])]}}])})],1),a("el-pagination",{staticClass:"pull-right",attrs:{background:!0,"current-page":t.currentPage,"page-size":t.page_size,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.list_num},on:{"current-change":t.handleCurrentChange}})],1),a("msg-dialog",{attrs:{param:t.msgParam,data:t.operateData},on:{dialogFn:t.onDialog,close:function(e){t.msgParam.visible=!1}}}),a("el-dialog",{staticClass:"cds-dialog",attrs:{title:"实例信息",visible:t.checkInstancesParam.visible},on:{"update:visible":function(e){return t.$set(t.checkInstancesParam,"visible",e)}}},[a("div",{staticClass:"b_gray",attrs:{"label-width":"120"}},[a("div",{staticClass:"dialog-body"},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"cds-button pull-right",attrs:{type:"primary"},on:{click:t.FnSyncInstance}},[t._v("同步主机信息")])],1),a("table",{staticClass:"table",staticStyle:{width:"100%","margin-top":"10px"}},[a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("名称")])])]),a("tbody",t._l(t.instance_list,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.instance_id))]),a("td",[t._v(t._s(e.name))])])})),0)])])])]),a("linkGroup-dialog",{attrs:{param:t.checkParam,data:t.checkData},on:{close:function(e){t.checkParam.visible=!1}}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-header"},[a("span",{staticClass:"page-title"},[t._v("报警规则")])])}],s=(a("4160"),a("c975"),a("b0c0"),a("b64b"),a("159b"),a("0fb7"),a("450d"),a("f529")),o=a.n(s),l=(a("96cf"),a("89ba")),r=a("4f23"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data?a("el-dialog",{staticClass:"cds-dialog",attrs:{title:t.param.title,visible:t.visible,"before-close":t.closeDialog},on:{"update:visible":function(e){t.visible=e}}},[a("div",{attrs:{"label-width":"120"}},[a("div",{staticClass:"dialog-body"},t._l(t.data,(function(e){return a("div",{key:e.group_id},[a("p",[t._v(t._s(e.name))]),a("el-table",{staticClass:"table--transparent",attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"姓名",prop:"contact_name"}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email"}})],1)],1)})),0)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cds-button",attrs:{type:"primary"},on:{click:t.closeDialog}},[t._v("确定")])],1)]):t._e()},d=[],u=a("58b0"),p={components:{ElDialog:u["a"]},props:{data:{type:Array,default:[]},param:{type:Object,default:{}}},data:function(){return{}},computed:{visible:{set:function(t){},get:function(){return this.param.visible}}},methods:{closeDialog:function(){this.visible=!1,this.$emit("close")}}},h=p,m=a("2877"),f=Object(m["a"])(h,c,d,!1,null,null,null),_=f.exports,b=a("d738"),g={components:{msgDialog:r["a"],linkGroupDialog:_},data:function(){return{list:[],currentPage:1,page_size:20,list_num:0,msgParam:{visible:!1},operateList:{inactive:{title:"禁用报警规则",msg:"确定禁用选择的报警规则！",msg2:"禁用报警之后将收不到报警通知。"},active:{title:"启用报警规则",msg:"确定启用选择的报警规则！"},delete:{title:"删除报警规则",msg:"确定删除选择的报警规则！",msg2:"删除后将不能恢复。"}},operateData:null,keyword:"",checkParam:{visible:!1,title:""},checkInstancesParam:{visible:!1,title:""},checkData:[],instance_list:[],selectData:"",product_list:[{name:"云服务器（CDS）",type:"cloud_vm"},{name:"裸金属（BMS）",type:"bms"}],productDefault:"",metrice_list:[{name:"CPU使用率",value:"cpu.usage",unit:"%"},{name:"内存使用率",value:"mem.usage",unit:"%"},{name:"磁盘使用率",value:"disk.usage",unit:"%"},{name:"磁盘IOPS（读）",value:"disk.iops.read",unit:"IOPS"},{name:"磁盘IOPS（写）",value:"disk.iops.write",unit:"IOPS"},{name:"磁盘吞吐量（读）",value:"disk.throughput.red",unit:"Kbps"},{name:"磁盘吞吐量（写）",value:"disk.throughput.write",unit:"Kbps"},{name:"出网流量",value:"nic.throughput.red",unit:"Mbps"},{name:"入网流量",value:"nic.throughput.write",unit:"Mbps"}],metrics_id:"",active:""}},created:function(){this.FnGetRulesList()},methods:{handleCurrentChange:function(t){this.currentPage=t,this.FnGetRulesList()},search:function(){this.selectData=Object.assign({},{name:this.keyword},{in_active:this.active},{product_type:this.productDefault},{metrics_id:this.metrics_id}),this.FnGetRulesList()},FnGetRulesList:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.list=[],e={name:this.selectData.name,in_active:this.selectData.in_active,product_type:this.selectData.product_type,metrics_id:this.selectData.metrics_id,page_number:this.currentPage,page_size:this.page_size},t.next=4,Object(b["e"])(e);case 4:a=t.sent,"Success"===a.code?(this.list_num=a.total_count,this.list=a.data,n=[],i=[],this.list.forEach((function(t){i=Object.keys(t.notification_group),n=[],i.forEach((function(e){n.push({id:e,name:t.notification_group[e]})})),t.group_list=n}))):o()({message:a.msg,type:"error"});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),FnOperate:function(t,e){this.operateData=this.operateList[t],this.operateData.type=t,this.operateData.id=e.id,this.msgParam.visible=!0},FnCheckLinkGroup:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.checkParam.title="报警联系人",this.checkData=e.group_list,this.checkParam.visible=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),FnGetLinkInstance:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.checkInstancesParam.visible=!0,a={rule_id:e.id,page_number:1,page_size:1e5},t.next=4,Object(b["h"])(a);case 4:n=t.sent,"Success"===n.code?this.instance_list=n.data:o()({message:n.msg,type:"error"});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onDialog:function(){this.FnGetRulesList()},FnSyncInstance:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,s,l,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],this.instance_list.forEach((function(t){e.push({instance_id:t.instance_id,instance_type:t.product_type})})),a={instance_info:e},t.next=5,Object(b["i"])(a);case 5:n=t.sent,"Success"===n.code?(i=[],s=n.data,s.length>0&&s.forEach((function(t){i.push(t.instance_id)})),l=-1,this.instance_list.forEach((function(t){l=i.indexOf(t.instance_id),l>-1&&r.$set(t,"name",s[l].name)}))):o()({message:n.msg,type:"error"});case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},v=g,y=Object(m["a"])(v,n,i,!1,null,null,null);e["default"]=y.exports},aac8:function(t,e,a){"use strict";var n=a("d68f"),i=a.n(n);i.a},d68f:function(t,e,a){},d738:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"g",(function(){return r})),a.d(e,"h",(function(){return c})),a.d(e,"e",(function(){return d})),a.d(e,"j",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"i",(function(){return h}));var n=a("5724");function i(t){return Object(n["a"])({method:"post",url:"/api/vm/search/",data:t,loadingStatus:!0})}function s(t){return Object(n["a"])({method:"post",url:"/alarm/rule/add",data:t})}function o(t){return Object(n["a"])({method:"post",url:"/alarm/rule/delete",data:t})}function l(t){return Object(n["a"])({method:"post",url:"/alarm/rule/active",data:t})}function r(t){return Object(n["a"])({method:"post",url:"/alarm/rule/inactive",data:t})}function c(t){return Object(n["a"])({method:"post",url:"/alarm/rule/link_instance",data:t})}function d(t){return Object(n["a"])({method:"post",url:"/alarm/rule/list",data:t,loadingStatus:!0})}function u(t){return Object(n["a"])({method:"post",url:"/alarm/rule/update",data:t})}function p(){return Object(n["a"])({method:"post",url:"/alarm/contact/list_group"})}function h(t){return Object(n["a"])({method:"post",url:"/alarm/rule/sync_instance",data:t})}},e0f8:function(t,e,a){"use strict";a.d(e,"b",(function(){return i}));var n=a("5724");function i(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/delete",data:t})}e["a"]={get_contact_person_list:function(t){return Object(n["a"])({method:"post",url:"/alarm/contact/list_all_info",data:t,loadingStatus:!0})},get_contact_group_list:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/list_group",data:t})},add_contact_person:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/add",data:t})},update_contact_person:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/update",data:t})},add_to_group:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/add_groups",data:t})},send_code:function(t){return Object(n["a"])({method:"POST",url:"/alarm/contact/send_code",data:t})},get_contact_group_info_list:function(t){return Object(n["a"])({method:"post",url:"/alarm/contact/list_all_group_info",data:t})}}}}]);
//# sourceMappingURL=chunk-38846f2c.b9d5c656.js.map